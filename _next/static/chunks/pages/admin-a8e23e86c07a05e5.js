(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4730:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return s(5855)}])},4931:function(e,t,s){"use strict";var n=s(5893);let a=e=>{let{src:t,...s}=e;return(0,n.jsx)("img",{src:t,...s})};t.Z=a},5855:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var n=s(4924),a=s(5893),r=s(7294);class o extends r.Component{render(){return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"my-4",children:"Sign Up"}),(0,a.jsx)("div",{className:"flex flex-1 justify-center",children:(0,a.jsx)("div",{className:"w-full max-w-144",children:(0,a.jsxs)("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"Username"}),(0,a.jsx)("input",{onChange:this.onChange,name:"username",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Username"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),(0,a.jsx)("input",{onChange:this.onChange,name:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"email",placeholder:"Email address"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),(0,a.jsx)("input",{onChange:this.onChange,name:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("button",{onClick:()=>this.props.signUp(this.state),className:"bg-primary hover:bg-black text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",children:"Sign Up"}),(0,a.jsx)("a",{className:"inline-block align-baseline font-bold text-sm",href:"#",onClick:()=>this.props.toggleFormState("signIn"),children:"Already signed up?"})]})]})})})]})}constructor(...e){super(...e),(0,n.Z)(this,"state",{username:"",email:"",password:""}),(0,n.Z)(this,"onChange",e=>{this.setState({[e.target.name]:e.target.value})})}}class l extends r.Component{render(){return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"py-4",children:"Sign Up"}),(0,a.jsx)("div",{className:"flex flex-1 justify-center",children:(0,a.jsx)("div",{className:"w-full max-w-144",children:(0,a.jsxs)("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"Username"}),(0,a.jsx)("input",{onChange:this.onChange,name:"username",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Username"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"authcode",children:"Authentication Code"}),(0,a.jsx)("input",{onChange:this.onChange,name:"authcode",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"authcode",type:"authcode"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("button",{onClick:()=>this.props.confirmSignUp(this.state),className:"bg-primary hover:bg-primary text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",children:"Confirm Sign Up"}),(0,a.jsx)("a",{className:"inline-block align-baseline font-bold text-sm",href:"#",children:"Forgot Password?"})]})]})})})]})}constructor(...e){super(...e),(0,n.Z)(this,"state",{username:"",authcode:""}),(0,n.Z)(this,"onChange",e=>{this.setState({[e.target.name]:e.target.value})})}}class i extends r.Component{render(){return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"my-4",children:"Sign In"}),(0,a.jsx)("div",{className:"flex flex-1 justify-center",children:(0,a.jsx)("div",{className:"w-full max-w-144",children:(0,a.jsxs)("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"Username"}),(0,a.jsx)("input",{onChange:this.onChange,name:"username",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Username"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),(0,a.jsx)("input",{onChange:this.onChange,name:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("button",{onClick:()=>this.props.signIn(this.state),className:"bg-primary hover:bg-black text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",children:"Sign In"}),(0,a.jsx)("a",{className:"inline-block align-baseline font-bold text-sm",href:"#",children:"Forgot Password?"})]})]})})})]})}constructor(...e){super(...e),(0,n.Z)(this,"state",{username:"",password:""}),(0,n.Z)(this,"onChange",e=>{this.setState({[e.target.name]:e.target.value})})}}let c={name:"",brand:"",price:"",categories:[],image:"",description:"",currentInventory:""};class d extends r.Component{render(){let{name:e,brand:t,price:s,categories:n,image:r,description:o,currentInventory:l}=this.state;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-3xl",children:"Add Item"}),(0,a.jsx)("div",{className:"flex flex-1 justify-center",children:(0,a.jsx)("div",{className:"w-full max-w-144",children:(0,a.jsxs)("form",{className:"bg-white shadow-xs rounded px-8 pt-6 pb-8 mb-4",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Item name"}),(0,a.jsx)("input",{onChange:this.onChange,value:e,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text",placeholder:"Item name",name:"name"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"price",children:"Item price"}),(0,a.jsx)("input",{onChange:this.onChange,value:s,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"price",type:"text",placeholder:"Item price",name:"price"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:"Item Description"}),(0,a.jsx)("input",{onChange:this.onChange,value:o,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"description",placeholder:"Item Description",name:"description"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"item image",children:"Item image"}),(0,a.jsx)("input",{type:"file",onChange:e=>this.onImageChange(e)})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"currentInventory",children:"In stock"}),(0,a.jsx)("input",{onChange:this.onChange,value:l,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"currentInventory",placeholder:"Items in stock",name:"currentInventory"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"categories",children:"Item categories"}),(0,a.jsx)("input",{onChange:this.onChange,value:n,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"categories",placeholder:"Comma separated list of item categories",name:"categories"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"brand",children:"Item brand"}),(0,a.jsx)("input",{onChange:this.onChange,value:t,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"brand",placeholder:"Item brand",name:"brand"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsx)("button",{onClick:this.addItem,className:"bg-primary hover:bg-black text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",children:"Add Item"}),(0,a.jsx)("a",{onClick:this.clearForm,className:"inline-block align-baseline font-bold text-sm",href:"#",children:"Clear Form"})]})]})})})]})}constructor(...e){super(...e),(0,n.Z)(this,"state",c),(0,n.Z)(this,"clearForm",()=>{this.setState(()=>c)}),(0,n.Z)(this,"onChange",e=>{this.setState({[e.target.name]:e.target.value})}),(0,n.Z)(this,"onImageChange",async e=>{let t=e.target.files[0];this.setState({image:t})}),(0,n.Z)(this,"addItem",async()=>{let{name:e,brand:t,price:s,categories:n,image:a,description:r,currentInventory:o}=this.state;e&&t&&s&&n.length&&r&&o&&a&&this.clearForm()})}}var m=s(2024),h=s(3598),u=s(4931),x=s(1664),p=s.n(x),g=s(3516),f=s(9583);class b extends r.Component{componentDidMount(){this.fetchInventory()}render(){let{inventory:e,currentItem:t,editingIndex:s}=this.state;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl",children:"Inventory"}),e.map((e,n)=>s===n?(0,a.jsx)("div",{className:"border-b py-10",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(p(),{href:"/product/".concat((0,g.lV)(e.name)),"aria-label":e.name,children:(0,a.jsx)(u.Z,{className:"w-32 m-0",src:e.image,alt:e.name})}),(0,a.jsx)("input",{onChange:e=>this.onChange(e,n),className:"ml-8 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:t.name,placeholder:"Item name",name:"name"}),(0,a.jsxs)("div",{className:"flex flex-1 justify-end items-center",children:[(0,a.jsx)("p",{className:"m-0 text-sm mr-2",children:"In stock:"}),(0,a.jsx)("input",{onChange:this.onChange,className:"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:t.currentInventory,name:"currentInventory",placeholder:"Item inventory"}),(0,a.jsx)("input",{onChange:this.onChange,className:"ml-16 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:t.price,name:"price",placeholder:"Item price"})]}),(0,a.jsx)("div",{role:"button",onClick:()=>this.saveItem(n),className:"m-0 ml-10 text-gray-900 text-s cursor-pointer",children:(0,a.jsx)("p",{className:"text-sm ml-10 m-0",children:"Save"})})]})},e.id):(0,a.jsx)("div",{className:"border-b py-10",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(p(),{href:"/product/".concat((0,g.lV)(e.name)),children:(0,a.jsx)(u.Z,{className:"w-32 m-0",src:e.image,alt:e.name})}),(0,a.jsx)(p(),{href:"/product/".concat((0,g.lV)(e.name)),children:(0,a.jsx)("p",{className:"m-0 pl-10 text-gray-600 text-sm",children:e.name})}),(0,a.jsxs)("div",{className:"flex flex-1 justify-end",children:[(0,a.jsxs)("p",{className:"m-0 pl-10 text-gray-900 text-sm",children:["In stock: ",e.currentInventory]}),(0,a.jsx)("p",{className:"m-0 pl-20 text-gray-900 font-semibold",children:h.Z+e.price})]}),(0,a.jsxs)("div",{className:"flex items-center m-0 ml-10 text-gray-900 text-s cursor-pointer",children:[(0,a.jsx)(f.aHS,{onClick:()=>this.deleteItem(n)}),(0,a.jsx)("p",{role:"button",onClick:()=>this.editItem(e,n),className:"text-sm ml-10 m-0",children:"Edit"})]})]})},e.id))]})}constructor(...e){super(...e),(0,n.Z)(this,"state",{inventory:[],currentItem:{},editingIndex:[]}),(0,n.Z)(this,"fetchInventory",async()=>{let e=await (0,m.dH)();this.setState({inventory:e})}),(0,n.Z)(this,"editItem",(e,t)=>{this.setState({editingIndex:t,currentItem:e})}),(0,n.Z)(this,"saveItem",async e=>{let t=[...this.state.inventory];t[e]=this.state.currentItem,this.setState({editingIndex:null,inventory:t})}),(0,n.Z)(this,"deleteItem",async e=>{let t=[...this.state.inventory.slice(0,e),...this.state.inventory.slice(e+1)];this.setState({inventory:t})}),(0,n.Z)(this,"onChange",e=>{let t={...this.state.currentItem,[e.target.name]:e.target.value};this.setState({currentItem:t})})}}class y extends r.Component{toggleViewState(e){this.setState(()=>({viewState:e}))}render(){return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex my-6",children:[(0,a.jsx)("p",{role:"button",className:"mr-4 cursor-pointer hover:text-primary",onClick:()=>this.toggleViewState("view"),children:"View Inventory"}),(0,a.jsx)("p",{role:"button",className:"cursor-pointer hover:text-primary",onClick:()=>this.toggleViewState("add"),children:"Add Item"})]}),"view"===this.state.viewState?(0,a.jsx)(b,{}):(0,a.jsx)(d,{}),(0,a.jsx)("button",{onClick:this.props.signOut,className:"mt-4 bg-primary hover:bg-black text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",children:"Sign Out"})]})}constructor(...e){super(...e),(0,n.Z)(this,"state",{viewState:"view"})}}class j extends r.Component{async componentDidMount(){}render(){let{formState:e,isAdmin:t}=this.state;return(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsxs)("div",{className:"max-w-fw flex flex-col",children:[(0,a.jsx)("div",{className:"pt-10",children:(0,a.jsx)("h1",{className:"text-5xl font-light",children:"Admin Panel"})}),((e,s)=>{switch(e){case"signUp":return(0,a.jsx)(o,{...s,signUp:this.signUp,toggleFormState:this.toggleFormState});case"confirmSignUp":return(0,a.jsx)(l,{...s,confirmSignUp:this.confirmSignUp});case"signIn":return(0,a.jsx)(i,{...s,signIn:this.signIn,toggleFormState:this.toggleFormState});case"signedIn":return t?(0,a.jsx)(y,{...s,signOut:this.signOut}):(0,a.jsx)("h3",{children:"Not an admin"});default:return null}})(e)]})})}constructor(...e){super(...e),(0,n.Z)(this,"state",{formState:"signUp",isAdmin:!1}),(0,n.Z)(this,"toggleFormState",e=>{this.setState(()=>({formState:e}))}),(0,n.Z)(this,"signUp",async e=>{let{username:t,email:s,password:n}=e;this.setState({formState:"confirmSignUp"})}),(0,n.Z)(this,"confirmSignUp",async e=>{let{username:t,authcode:s}=e;this.setState({formState:"signIn"})}),(0,n.Z)(this,"signIn",async e=>{let{username:t,password:s}=e;this.setState({formState:"signedIn",isAdmin:!0})}),(0,n.Z)(this,"signOut",async()=>{this.setState({formState:"signUp"})})}}var w=j},3598:function(e,t){"use strict";t.Z="$"},2024:function(e,t,s){"use strict";s.d(t,{dH:function(){return a}});var n=s(7921);async function a(){return Promise.resolve(n.Z)}},8357:function(e,t,s){"use strict";s.d(t,{w_:function(){return i}});var n=s(7294),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=n.createContext&&n.createContext(a),o=function(){return(o=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var a in t=arguments[s])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]]);return s};function i(e){return function(t){return n.createElement(c,o({attr:o({},e.attr)},t),function e(t){return t&&t.map(function(t,s){return n.createElement(t.tag,o({key:s},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var s,a=e.attr,r=e.size,i=e.title,c=l(e,["attr","size","title"]),d=r||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),n.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,c,{className:s,style:o(o({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&n.createElement("title",null,i),e.children)};return void 0!==r?n.createElement(r.Consumer,null,function(e){return t(e)}):t(a)}},4924:function(e,t,s){"use strict";function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{Z:function(){return n}})}},function(e){e.O(0,[445,774,888,179],function(){return e(e.s=4730)}),_N_E=e.O()}]);